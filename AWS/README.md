# 아마존 웹서비스 (AWS)
- AWS란 아마존 웹 서비스의 약자로 아마존에서 제공하는 클라우드 컴퓨팅 플랫폼이다.
    - 클라우드 컴퓨팅은 인터넷을 통해 컴퓨터 시스템 및 자원을 제공받아 사용할 수 있는 컴퓨팅 서비스이다.
    - 클라우드 컴퓨팅을 통해 사용자는 물리적 인프라를 소유하거나 관리할 필요없이 인터넷을 통해 소프트웨어,서버,저장소 등 다양항 컴퓨팅 리소스에 접근하고 사용할 수 있다
- AWS는 모든 규모의 기업에서 애플리케이션을 실행하고, 웹 사이트를 호스팅하고, 데이터를 저장하고, 다양한 클라우드 기반 기술을 활용하는 데 널리 사용된다.
- AWS의 유연성, 확장성 및 안정성은 IT 인프라의 부담을 덜어준다.
<br>
<br>

### 주의할점
- 아마존은 신규 사용자에게 1년간 프리티어로 무료서비스들을 제공하지만
잘못 사용한다면 자기도 모르게 요금이 빠져나갈 수 있어 조심해야한다.
- 월별 750시간까지(인스턴스 1개 기준) EC2를 무료로 사용가능하지만 마구잡이로 인스턴스를 만들어 사용하면 금방 과금이 되므로 인스턴스를 사용안할때 종료나 중지를 해놔야한다.
- 깃허브에 민감한 aws정보파일을 올리면 안된다.

<br>
<br>

### 기업 관점에서 클라우드 컴퓨팅의 필요성
- 확장성 : 기업 입장에서 물리적인 컴퓨터를 이용해서 사업을 한다고 하면 사용자의 수에 따라 물리적인 컴퓨터의 수를 늘려야 한다. 그 과정에서 사용자가 적을때의 컴퓨팅파워의 낭비나 사용자가 많아질때 사용자가 느끼는 성능상의 불편함이 존재한다. 하지만 클라우드 컴퓨팅을 사용한다면 사용자의 수에 따라 유연하게 시스템의 규모를 조절하여 물리적컴퓨터의 단점을 상쇄할 수 있다.

<br>
<br>

### EC2
- EC2는 AWS가 제공하는 핵심 서비스 중 하나로 사용자가 애플리케이션을 실행할 수 있는 인스턴스라는 가상서버를 임대할 수 있는 웹 서비스이다.

- 주요 기능
    1. 인스턴스(가상 서버) : 사용자는 다양한 유형의 컴퓨팅 리소스(CPU, 메모리, 스토리지), 운영 체제, 네트워크 구성 등 다양한 구성으로 클라우드에서 가상 서버(인스턴스)를 시작할 수 있다.
        - 윈도우에서 리눅스를 사용하거나 리눅스에서 윈도우를 사용할 수 있다.
    2. 확장성 : 사용자는 수요에 따라 인스턴스 수를 쉽게 늘리거나 줄일 수 있다. 이는 EC2 인스턴스를 동적으로 추가하거나 제거할 수 있으므로 워크로드가 다양한 애플리케이션에 특히 유용하다
        - 워크로드란 작업을 완료하거나 성과를 창출하는데 소요되는 컴퓨팅 리소스와 시간의 양을 의미한다
    3. 탄력적 로드 밸런싱: EC2 인스턴스는 ELB(Elastic Load Balancing)와 함께 사용하여 수신 트래픽을 여러 인스턴스에 분산시켜 애플리케이션의 고가용성과 내결함성을 보장할 수 있다
- 인스턴스로 가면 임대한 컴퓨터의 현황을 볼수 있다.

<br>
<br>

### Scale-up과 Scale-out
- Scale-up :  수직적 확장이라고도 하는 스케일 업은 CPU,RAM또는 저장소와 같은 리소스를 더 추가해 단일 시스템이나 서버의 용량을 늘리는 아키텍처이다
    1. 유지할 시스템이 하나이므로 관리가 단순하다.
    2. 고성능, 기업급 시스템의 경우 확장에 비용이 더 많이 들 수 있다.
    3. 단일 머신을 확장할 수 있는 정도에 제한이 있고 그 제한에 도달하면 더 성능을 향상시킬 수 없다
    - 사용사례 : CPU,메모리 추가하여 데이터베이스 서버 용량을 늘린다, 하드웨어 구성요소를 업그레이드하여 애플리케이션 서버의 기능을 향상시킨다.
- Scale-out : 수평적 확장이라고도 하는 스케일 아웃은 시스템에 더 많은 노드나 머신을 추가하여 여러장치에 워크로드를 분산하는 아키텍처이다.
    1. 워크로드는 클러스터나 네트워크 등 여러시스템에 분산되는 경우가 많다(분산 아키텍처)
    2. 더 많은 시스템이 추가됨에 따라 시스템의 전체용량과 성능이 선형적으로 증가한다.
    3. 상용 하드웨어를 사용하므로 스케일업보다 비용이 더 싼 경우가 많다
    4. 분산 시스템 관리가 복잡하고 네트워크 통신으로 대기시간이 늘어날 가능성이 있다.
    - 사용사례 : 증가하는 웹트래픽을 처리하기 위해 여러 웹서버를 배포한다, 여러 서버에 데이터베이스를 분산하여 데이터베이스를 확장한다, 로드밸런싱

<br>
<br>

### EC2 인스턴스로 nodejs 웹서버 열어보기(윈도우 putty)
1. 인스턴스를 하나 만든다. (ubuntu로 생성했다.)
    - 키페어는 putty에서 사용하기 위해 ppk파일로 받아온다
2. 인스턴스를 만든 후 putty에 들어가 인스턴스의 퍼블릭ip를 집어넣고 SSH-Auth-Credentials 경로의 private key부분에 받아놓은 키페어 ppk를 넣고 save한다
3. 만든 세션으로 들어가면 ubuntu로 생성했기 때문에 ubuntu로 로그인을 한다.
4. sudo apt update, sudo apt install nodejs, sudo apt install npm 기본적으로 필요한 것들을 설치한다.
5. 원하는 폴더를 만들어 해당 폴더에 git clone을 해준다 
    - 예시: mkdir test1 => cd test1 => git clone https://github.com/foskingson/STUDY.git 
6. 클론이 완료되면 실행할 nodejs가 있는 파일로 이동후 npm install 을 통해 의존성모듈을 체크한다.
7. node main.js와 같이 실행시킨다.
8. aws의 인스턴스 관리페이지로 이동후 웹서버를 실행시킨 인스턴스의 보안그룹의 인바운드 규칙에 웹서버를 연 port를 추가한다 (ssh포트는 그대로 둬야함)
9. 주소창에 "퍼블릭ip:port"를 치면 웹이 열린다. 